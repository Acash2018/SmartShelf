{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aakas\\\\OneDrive\\\\Desktop\\\\Hackathon\\\\SmartShelf\\\\frontend\\\\src\\\\components\\\\FoodTable.jsx\";\nimport React from \"react\";\nimport { deleteFoodItem } from \"../services/api\"; // Import the delete function from the API\n\nconst FoodTable = ({\n  foodList,\n  refreshFoodList\n}) => {\n  // Function to calculate the food item's status based on expiration date\n  const calculateStatus = expirationDate => {\n    const today = new Date();\n    const expDate = new Date(expirationDate);\n    const diffDays = Math.ceil((expDate - today) / (1000 * 60 * 60 * 24));\n    if (diffDays < 0) return \"Expired\";\n    if (diffDays <= 3) return \"Expiring Soon\";\n    return \"Fresh\";\n  };\n\n  // Function to handle the delete action\n  const handleDelete = async id => {\n    try {\n      await deleteFoodItem(id); // Call the backend API to delete the item\n      refreshFoodList(); // Refresh the list of food items\n    } catch (error) {\n      alert(\"Failed to delete the food item. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"food-table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, \"Food Items\"), foodList.length > 0 ? /*#__PURE__*/React.createElement(\"table\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 15\n    }\n  }, \"Food Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 15\n    }\n  }, \"Expiration Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 15\n    }\n  }, \"Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 15\n    }\n  }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, foodList.map(food => /*#__PURE__*/React.createElement(\"tr\", {\n    key: food.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, food.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 17\n    }\n  }, food.expiration_date), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, calculateStatus(food.expiration_date)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDelete(food.id),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 19\n    }\n  }, \"Delete\")))))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"No food items found.\"));\n};\nexport default FoodTable;","map":{"version":3,"names":["React","deleteFoodItem","FoodTable","foodList","refreshFoodList","calculateStatus","expirationDate","today","Date","expDate","diffDays","Math","ceil","handleDelete","id","error","alert","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","food","key","name","expiration_date","onClick"],"sources":["C:/Users/aakas/OneDrive/Desktop/Hackathon/SmartShelf/frontend/src/components/FoodTable.jsx"],"sourcesContent":["import React from \"react\";\nimport { deleteFoodItem } from \"../services/api\"; // Import the delete function from the API\n\nconst FoodTable = ({ foodList, refreshFoodList }) => {\n  // Function to calculate the food item's status based on expiration date\n  const calculateStatus = (expirationDate) => {\n    const today = new Date();\n    const expDate = new Date(expirationDate);\n    const diffDays = Math.ceil((expDate - today) / (1000 * 60 * 60 * 24));\n\n    if (diffDays < 0) return \"Expired\";\n    if (diffDays <= 3) return \"Expiring Soon\";\n    return \"Fresh\";\n  };\n\n  // Function to handle the delete action\n  const handleDelete = async (id) => {\n    try {\n      await deleteFoodItem(id); // Call the backend API to delete the item\n      refreshFoodList(); // Refresh the list of food items\n    } catch (error) {\n      alert(\"Failed to delete the food item. Please try again.\");\n    }\n  };\n\n  return (\n    <div className=\"food-table\">\n      <h2>Food Items</h2>\n      {foodList.length > 0 ? (\n        <table>\n          <thead>\n            <tr>\n              <th>Food Name</th>\n              <th>Expiration Date</th>\n              <th>Status</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {foodList.map((food) => (\n              <tr key={food.id}>\n                <td>{food.name}</td>\n                <td>{food.expiration_date}</td>\n                <td>{calculateStatus(food.expiration_date)}</td>\n                <td>\n                  <button onClick={() => handleDelete(food.id)}>Delete</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      ) : (\n        <p>No food items found.</p>\n      )}\n    </div>\n  );\n};\n\nexport default FoodTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}